<section class="landing-page hero-section">
    <div class="background-text">9yt !Trybe</div>
    <div class="content-overlay">
        <video autoplay loop muted playsinline class="content-background-video">
            <source src="assets/accra at night.mp4" type="video/mp4">
        </video>
        <div class="landing-content">
            <h1>Your Night. Your Tribe. <br>
                Your Experience.</h1>

            <button class="btn btn-centered explore-button2" (click)="showEventForm = !showEventForm">
                Publish Your Own Event
            </button>

            <form *ngIf="showEventForm" [formGroup]="eventForm" (ngSubmit)="publishEvent()" class="panel">
                <div class="form-group">
                    <label>Event Name</label>
                    <input formControlName="name" placeholder="Name of your event">
                </div>
                <div class="form-group">
                    <label>Event Summary</label>
                    <textarea formControlName="summary" placeholder="Brief summary of the event"></textarea>
                </div>

                <label class="checkbox-container">
                    <input type="checkbox" formControlName="isRecurring"> Reoccurring Event
                </label>

                <div *ngIf="!eventForm.get('isRecurring')?.value" class="form-group">
                    <label>Date</label>
                    <input formControlName="date" type="date">
                </div>
                <div *ngIf="eventForm.get('isRecurring')?.value" class="form-group">
                    <label>Day of the Week</label>
                    <select formControlName="day">
                        <option value="">Select a Day</option>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Flyer Image URL</label>
                    <input formControlName="flyer" placeholder="e.g., https://example.com/flyer.jpg">
                </div>
                <button type="submit" [disabled]="eventForm.invalid">Submit Event</button>
            </form>
        </div>

        <div class="slider-container">
            <h3>Upcoming Events</h3>
            <div class="slider-wrapper">
                <div class="event-slider">
                    <div class="event-card" *ngFor="let event of upcomingEvents">
                        <img [src]="event.flyer" alt="{{event.name}} flyer">
                        <div class="event-info">
                            <h4>{{event.name}}</h4>
                            <p>{{event.summary}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="calendar-section panel">
            <h3>Find Events by Date</h3>
            <app-calendar (dateSelected)="onDateSelected($event)"></app-calendar>
        </div>

        <div class="button-section">
            <button class="btn btn-centered explore-button" routerLink="/shop">Shop From Us</button>
        </div>

        <!-- Explore Galleries Button -->
        <div class="gallery-button-container">
            <button (click)="goToGallery()" class="explore-button">
                Explore our Galleries
                <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>

        <!-- DYNAMIC NEWS/MAGAZINE CAROUSEL SECTION -->
        <section class="news-section">
            <div class="container mx-auto px-4">
                <h3 class="section-title">International Entertainment & Lifestyle News</h3>

                <div class="carousel-wrapper">
                    <div class="news-carousel">
                        <!-- Previous Arrow -->
                        <button (click)="prevNews()" class="nav-arrow left-arrow">
                            <i class="fas fa-chevron-left"></i>
                        </button>

                        <!-- News Grid: Binds to the calculated visibleNews array -->
                        <div class="news-grid">
                            <div *ngFor="let item of visibleNews" class="news-item">
                                <img [src]="item.image" alt="{{item.title}}" class="news-image"
                                    onerror="this.onerror=null; this.src='https://placehold.co/400x500/2c2c2c/ff4500?text=9YT+NEWS';">
                                <div class="news-content">
                                    <h4 class="text-lg font-bold">{{ item.title }}</h4>
                                    <p class="text-sm opacity-80">{{ item.source }}</p>
                                </div>
                            </div>
                        </div>

                        <!-- Next Arrow -->
                        <button (click)="nextNews()" class="nav-arrow right-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>


            </div>
        </section>
    </div>
</section>